diff --git a/node_modules/esbuild-plugin-replace/dist/index.js b/node_modules/esbuild-plugin-replace/dist/index.js
index e6ce490..23852e5 100755
--- a/node_modules/esbuild-plugin-replace/dist/index.js
+++ b/node_modules/esbuild-plugin-replace/dist/index.js
@@ -8,4 +8,4 @@ var _=(i,t)=>()=>(t||(t={exports:{}},i(t.exports,t)),t.exports);var B=_((I,q)=>{
 `?u=!0:c!=="\r"&&u&&(u=!1,s===a.start||(this._splitChunk(a,s),a=a.next),a.prependRight(t))}s+=1}s=a.end,a=a.next}return this.outro=this.outro.replace(r,h),this};l.prototype.insert=function(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")};l.prototype.insertLeft=function(t,e){return C.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),C.insertLeft=!0),this.appendLeft(t,e)};l.prototype.insertRight=function(t,e){return C.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),C.insertRight=!0),this.prependRight(t,e)};l.prototype.move=function(t,e,r){if(r>=t&&r<=e)throw new Error("Cannot move a selection inside itself");this._split(t),this._split(e),this._split(r);var n=this.byStart[t],o=this.byEnd[e],u=n.previous,h=o.next,s=this.byStart[r];if(!s&&o===this.lastChunk)return this;var a=s?s.previous:this.lastChunk;return u&&(u.next=h),h&&(h.previous=u),a&&(a.next=n),s&&(s.previous=o),n.previous||(this.firstChunk=o.next),o.next||(this.lastChunk=n.previous,this.lastChunk.next=null),n.previous=a,o.next=s||null,a||(this.firstChunk=n),s||(this.lastChunk=o),this};l.prototype.overwrite=function(t,e,r,n){if(typeof r!="string")throw new TypeError("replacement content must be a string");for(;t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;if(e>this.original.length)throw new Error("end is out of bounds");if(t===e)throw new Error("Cannot overwrite a zero-length range \u2013 use appendLeft or prependRight instead");this._split(t),this._split(e),n===!0&&(C.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),C.storeName=!0),n={storeName:!0});var o=n!==void 0?n.storeName:!1,u=n!==void 0?n.contentOnly:!1;if(o){var h=this.original.slice(t,e);this.storedNames[h]=!0}var s=this.byStart[t],a=this.byEnd[e];if(s){if(e>s.end&&s.next!==this.byStart[s.end])throw new Error("Cannot overwrite across a split point");if(s.edit(r,o,u),s!==a){for(var f=s.next;f!==a;)f.edit("",!1),f=f.next;f.edit("",!1)}}else{var c=new p(t,e,"").edit(r,o);a.next=c,c.previous=a}return this};l.prototype.prepend=function(t){if(typeof t!="string")throw new TypeError("outro content must be a string");return this.intro=t+this.intro,this};l.prototype.prependLeft=function(t,e){if(typeof e!="string")throw new TypeError("inserted content must be a string");this._split(t);var r=this.byEnd[t];return r?r.prependLeft(e):this.intro=e+this.intro,this};l.prototype.prependRight=function(t,e){if(typeof e!="string")throw new TypeError("inserted content must be a string");this._split(t);var r=this.byStart[t];return r?r.prependRight(e):this.outro=e+this.outro,this};l.prototype.remove=function(t,e){for(;t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;if(t===e)return this;if(t<0||e>this.original.length)throw new Error("Character is out of bounds");if(t>e)throw new Error("end must be greater than start");this._split(t),this._split(e);for(var r=this.byStart[t];r;)r.intro="",r.outro="",r.edit(""),r=e>r.end?this.byStart[r.end]:null;return this};l.prototype.lastChar=function(){if(this.outro.length)return this.outro[this.outro.length-1];var t=this.lastChunk;do{if(t.outro.length)return t.outro[t.outro.length-1];if(t.content.length)return t.content[t.content.length-1];if(t.intro.length)return t.intro[t.intro.length-1]}while(t=t.previous);return this.intro.length?this.intro[this.intro.length-1]:""};l.prototype.lastLine=function(){var t=this.outro.lastIndexOf(k);if(t!==-1)return this.outro.substr(t+1);var e=this.outro,r=this.lastChunk;do{if(r.outro.length>0){if(t=r.outro.lastIndexOf(k),t!==-1)return r.outro.substr(t+1)+e;e=r.outro+e}if(r.content.length>0){if(t=r.content.lastIndexOf(k),t!==-1)return r.content.substr(t+1)+e;e=r.content+e}if(r.intro.length>0){if(t=r.intro.lastIndexOf(k),t!==-1)return r.intro.substr(t+1)+e;e=r.intro+e}}while(r=r.previous);return t=this.intro.lastIndexOf(k),t!==-1?this.intro.substr(t+1)+e:this.intro+e};l.prototype.slice=function(t,e){for(t===void 0&&(t=0),e===void 0&&(e=this.original.length);t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;for(var r="",n=this.firstChunk;n&&(n.start>t||n.end<=t);){if(n.start<e&&n.end>=e)return r;n=n.next}if(n&&n.edited&&n.start!==t)throw new Error("Cannot use replaced character "+t+" as slice start anchor.");for(var o=n;n;){n.intro&&(o!==n||n.start===t)&&(r+=n.intro);var u=n.start<e&&n.end>=e;if(u&&n.edited&&n.end!==e)throw new Error("Cannot use replaced character "+e+" as slice end anchor.");var h=o===n?t-n.start:0,s=u?n.content.length+e-n.end:n.content.length;if(r+=n.content.slice(h,s),n.outro&&(!u||n.end===e)&&(r+=n.outro),u)break;n=n.next}return r};l.prototype.snip=function(t,e){var r=this.clone();return r.remove(0,t),r.remove(e,r.original.length),r};l.prototype._split=function(t){if(!(this.byStart[t]||this.byEnd[t]))for(var e=this.lastSearchedChunk,r=t>e.end;e;){if(e.contains(t))return this._splitChunk(e,t);e=r?this.byStart[e.end]:this.byEnd[e.start]}};l.prototype._splitChunk=function(t,e){if(t.edited&&t.content.length){var r=M(this.original)(e);throw new Error("Cannot split a chunk that has already been edited ("+r.line+":"+r.column+' \u2013 "'+t.original+'")')}var n=t.split(e);return this.byEnd[e]=t,this.byStart[e]=n,this.byEnd[n.end]=n,t===this.lastChunk&&(this.lastChunk=n),this.lastSearchedChunk=t,!0};l.prototype.toString=function(){for(var t=this.intro,e=this.firstChunk;e;)t+=e.toString(),e=e.next;return t+this.outro};l.prototype.isEmpty=function(){var t=this.firstChunk;do if(t.intro.length&&t.intro.trim()||t.content.length&&t.content.trim()||t.outro.length&&t.outro.trim())return!1;while(t=t.next);return!0};l.prototype.length=function(){var t=this.firstChunk,e=0;do e+=t.intro.length+t.content.length+t.outro.length;while(t=t.next);return e};l.prototype.trimLines=function(){return this.trim("[\\r\\n]")};l.prototype.trim=function(t){return this.trimStart(t).trimEnd(t)};l.prototype.trimEndAborted=function(t){var e=new RegExp((t||"\\s")+"+$");if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;var r=this.lastChunk;do{var n=r.end,o=r.trimEnd(e);if(r.end!==n&&(this.lastChunk===r&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),o)return!0;r=r.previous}while(r);return!1};l.prototype.trimEnd=function(t){return this.trimEndAborted(t),this};l.prototype.trimStartAborted=function(t){var e=new RegExp("^"+(t||"\\s")+"+");if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;var r=this.firstChunk;do{var n=r.end,o=r.trimStart(e);if(r.end!==n&&(r===this.lastChunk&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),o)return!0;r=r.next}while(r);return!1};l.prototype.trimStart=function(t){return this.trimStartAborted(t),this};var P=Object.prototype.hasOwnProperty,d=function(t){t===void 0&&(t={}),this.intro=t.intro||"",this.separator=t.separator!==void 0?t.separator:`
 `,this.sources=[],this.uniqueSources=[],this.uniqueSourceIndexByFilename={}};d.prototype.addSource=function(t){if(t instanceof l)return this.addSource({content:t,filename:t.filename,separator:this.separator});if(!U(t)||!t.content)throw new Error("bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`");if(["filename","indentExclusionRanges","separator"].forEach(function(r){P.call(t,r)||(t[r]=t.content[r])}),t.separator===void 0&&(t.separator=this.separator),t.filename)if(!P.call(this.uniqueSourceIndexByFilename,t.filename))this.uniqueSourceIndexByFilename[t.filename]=this.uniqueSources.length,this.uniqueSources.push({filename:t.filename,content:t.content.original});else{var e=this.uniqueSources[this.uniqueSourceIndexByFilename[t.filename]];if(t.content.original!==e.content)throw new Error("Illegal source: same filename ("+t.filename+"), different contents")}return this.sources.push(t),this};d.prototype.append=function(t,e){return this.addSource({content:new l(t),separator:e&&e.separator||""}),this};d.prototype.clone=function(){var t=new d({intro:this.intro,separator:this.separator});return this.sources.forEach(function(e){t.addSource({filename:e.filename,content:e.content.clone(),separator:e.separator})}),t};d.prototype.generateDecodedMap=function(t){var e=this;t===void 0&&(t={});var r=[];this.sources.forEach(function(o){Object.keys(o.content.storedNames).forEach(function(u){~r.indexOf(u)||r.push(u)})});var n=new L(t.hires);return this.intro&&n.advance(this.intro),this.sources.forEach(function(o,u){u>0&&n.advance(e.separator);var h=o.filename?e.uniqueSourceIndexByFilename[o.filename]:-1,s=o.content,a=M(s.original);s.intro&&n.advance(s.intro),s.firstChunk.eachNext(function(f){var c=a(f.start);f.intro.length&&n.advance(f.intro),o.filename?f.edited?n.addEdit(h,f.content,c,f.storeName?r.indexOf(f.original):-1):n.addUneditedChunk(h,f,s.original,c,s.sourcemapLocations):n.advance(f.content),f.outro.length&&n.advance(f.outro)}),s.outro&&n.advance(s.outro)}),{file:t.file?t.file.split(/[/\\]/).pop():null,sources:this.uniqueSources.map(function(o){return t.file?F(t.file,o.filename):o.filename}),sourcesContent:this.uniqueSources.map(function(o){return t.includeContent?o.content:null}),names:r,mappings:n.raw}};d.prototype.generateMap=function(t){return new x(this.generateDecodedMap(t))};d.prototype.getIndentString=function(){var t={};return this.sources.forEach(function(e){var r=e.content.indentStr;r!==null&&(t[r]||(t[r]=0),t[r]+=1)}),Object.keys(t).sort(function(e,r){return t[e]-t[r]})[0]||"	"};d.prototype.indent=function(t){var e=this;if(arguments.length||(t=this.getIndentString()),t==="")return this;var r=!this.intro||this.intro.slice(-1)===`
 `;return this.sources.forEach(function(n,o){var u=n.separator!==void 0?n.separator:e.separator,h=r||o>0&&/\r?\n$/.test(u);n.content.indent(t,{exclude:n.indentExclusionRanges,indentStart:h}),r=n.content.lastChar()===`
-`}),this.intro&&(this.intro=t+this.intro.replace(/^[^\n]/gm,function(n,o){return o>0?t+n:n})),this};d.prototype.prepend=function(t){return this.intro=t+this.intro,this};d.prototype.toString=function(){var t=this,e=this.sources.map(function(r,n){var o=r.separator!==void 0?r.separator:t.separator,u=(n>0?o:"")+r.content.toString();return u}).join("");return this.intro+e};d.prototype.isEmpty=function(){return!(this.intro.length&&this.intro.trim()||this.sources.some(function(t){return!t.content.isEmpty()}))};d.prototype.length=function(){return this.sources.reduce(function(t,e){return t+e.content.length()},this.intro.length)};d.prototype.trimLines=function(){return this.trim("[\\r\\n]")};d.prototype.trim=function(t){return this.trimStart(t).trimEnd(t)};d.prototype.trimStart=function(t){var e=new RegExp("^"+(t||"\\s")+"+");if(this.intro=this.intro.replace(e,""),!this.intro){var r,n=0;do if(r=this.sources[n++],!r)break;while(!r.content.trimStartAborted(t))}return this};d.prototype.trimEnd=function(t){var e=new RegExp((t||"\\s")+"+$"),r,n=this.sources.length-1;do if(r=this.sources[n--],!r){this.intro=this.intro.replace(e,"");break}while(!r.content.trimEndAborted(t));return this};l.Bundle=d;l.SourceMap=x;l.default=l;A.exports=l});var J=require("fs"),G=$(),H=i=>typeof i=="function"?i:()=>i,K=(i,t)=>t.length-i.length,Q=i=>{let t=i.values?Object.assign({},i.values):Object.assign({},i);return delete t.include,Object.keys(t).reduce((e,r)=>{let n=Object.assign({},e);return n[r]=H(t[r]),n},{})},W=i=>{let t=/.*/;return i.include&&(Object.prototype.toString.call(i.include)!=="[object RegExp]"?console.warn(`Options.include must be a RegExp object, but gets an '${typeof i.include}' type.`):t=i.include),t},X=(i,t,e,r)=>{let n=new G(i);for(;match=e.exec(i);){let o=match.index,u=o+match[0].length,h=String(r[match[1]](t));n.overwrite(o,u,h)}return n.toString()};exports.replace=(i={})=>{let t=W(i),e=Q(i),r=Object.keys(e).length===0,n=Object.keys(e).sort(K).map(escape),o=new RegExp(`\\b(${n.join("|")})\\b`,"g");return{name:"replace",setup(u){u.onLoad({filter:t},async h=>{let s=await J.promises.readFile(h.path,"utf8");return{contents:r?s:X(s,h.path,o,e)}})}}};module.exports=exports;
+`}),this.intro&&(this.intro=t+this.intro.replace(/^[^\n]/gm,function(n,o){return o>0?t+n:n})),this};d.prototype.prepend=function(t){return this.intro=t+this.intro,this};d.prototype.toString=function(){var t=this,e=this.sources.map(function(r,n){var o=r.separator!==void 0?r.separator:t.separator,u=(n>0?o:"")+r.content.toString();return u}).join("");return this.intro+e};d.prototype.isEmpty=function(){return!(this.intro.length&&this.intro.trim()||this.sources.some(function(t){return!t.content.isEmpty()}))};d.prototype.length=function(){return this.sources.reduce(function(t,e){return t+e.content.length()},this.intro.length)};d.prototype.trimLines=function(){return this.trim("[\\r\\n]")};d.prototype.trim=function(t){return this.trimStart(t).trimEnd(t)};d.prototype.trimStart=function(t){var e=new RegExp("^"+(t||"\\s")+"+");if(this.intro=this.intro.replace(e,""),!this.intro){var r,n=0;do if(r=this.sources[n++],!r)break;while(!r.content.trimStartAborted(t))}return this};d.prototype.trimEnd=function(t){var e=new RegExp((t||"\\s")+"+$"),r,n=this.sources.length-1;do if(r=this.sources[n--],!r){this.intro=this.intro.replace(e,"");break}while(!r.content.trimEndAborted(t));return this};l.Bundle=d;l.SourceMap=x;l.default=l;A.exports=l});var J=require("fs"),G=$(),H=i=>typeof i=="function"?i:()=>i,K=(i,t)=>t.length-i.length,Q=i=>{let t=i.values?Object.assign({},i.values):Object.assign({},i);return delete t.include,Object.keys(t).reduce((e,r)=>{let n=Object.assign({},e);return n[r]=H(t[r]),n},{})},W=i=>{let t=/.*/;return i.include&&(Object.prototype.toString.call(i.include)!=="[object RegExp]"?console.warn(`Options.include must be a RegExp object, but gets an '${typeof i.include}' type.`):t=i.include),t},X=(i,t,e,r)=>{let n=new G(i);for(;match=e.exec(i);){let o=match.index,u=o+match[0].length,h=String(r[match[1]](t));n.overwrite(o,u,h)}return n.toString()};exports.replace=(i={})=>{let t=W(i),e=Q(i),r=Object.keys(e).length===0,n=Object.keys(e).sort(K).map(escape),o=new RegExp(`\\b(${n.join("|")})\\b`,"g");return{name:"replace",setup(u){u.onLoad({filter:t},async h=>{let s=await J.promises.readFile(h.path,"utf8");return{loader:h.path.endsWith('ts')?'ts':'js',contents:r?s:X(s,h.path,o,e)}})}}};module.exports=exports;
diff --git a/node_modules/esbuild-plugin-replace/dist/index.mjs b/node_modules/esbuild-plugin-replace/dist/index.mjs
index e4e036a..c9139f2 100755
--- a/node_modules/esbuild-plugin-replace/dist/index.mjs
+++ b/node_modules/esbuild-plugin-replace/dist/index.mjs
@@ -8,4 +8,4 @@ var N=(i,t)=>()=>(t||(t={exports:{}},i(t.exports,t)),t.exports);var A=N((I,B)=>{
 `?u=!0:c!=="\r"&&u&&(u=!1,s===a.start||(this._splitChunk(a,s),a=a.next),a.prependRight(t))}s+=1}s=a.end,a=a.next}return this.outro=this.outro.replace(r,h),this};l.prototype.insert=function(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")};l.prototype.insertLeft=function(t,e){return C.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),C.insertLeft=!0),this.appendLeft(t,e)};l.prototype.insertRight=function(t,e){return C.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),C.insertRight=!0),this.prependRight(t,e)};l.prototype.move=function(t,e,r){if(r>=t&&r<=e)throw new Error("Cannot move a selection inside itself");this._split(t),this._split(e),this._split(r);var n=this.byStart[t],o=this.byEnd[e],u=n.previous,h=o.next,s=this.byStart[r];if(!s&&o===this.lastChunk)return this;var a=s?s.previous:this.lastChunk;return u&&(u.next=h),h&&(h.previous=u),a&&(a.next=n),s&&(s.previous=o),n.previous||(this.firstChunk=o.next),o.next||(this.lastChunk=n.previous,this.lastChunk.next=null),n.previous=a,o.next=s||null,a||(this.firstChunk=n),s||(this.lastChunk=o),this};l.prototype.overwrite=function(t,e,r,n){if(typeof r!="string")throw new TypeError("replacement content must be a string");for(;t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;if(e>this.original.length)throw new Error("end is out of bounds");if(t===e)throw new Error("Cannot overwrite a zero-length range \u2013 use appendLeft or prependRight instead");this._split(t),this._split(e),n===!0&&(C.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),C.storeName=!0),n={storeName:!0});var o=n!==void 0?n.storeName:!1,u=n!==void 0?n.contentOnly:!1;if(o){var h=this.original.slice(t,e);this.storedNames[h]=!0}var s=this.byStart[t],a=this.byEnd[e];if(s){if(e>s.end&&s.next!==this.byStart[s.end])throw new Error("Cannot overwrite across a split point");if(s.edit(r,o,u),s!==a){for(var f=s.next;f!==a;)f.edit("",!1),f=f.next;f.edit("",!1)}}else{var c=new p(t,e,"").edit(r,o);a.next=c,c.previous=a}return this};l.prototype.prepend=function(t){if(typeof t!="string")throw new TypeError("outro content must be a string");return this.intro=t+this.intro,this};l.prototype.prependLeft=function(t,e){if(typeof e!="string")throw new TypeError("inserted content must be a string");this._split(t);var r=this.byEnd[t];return r?r.prependLeft(e):this.intro=e+this.intro,this};l.prototype.prependRight=function(t,e){if(typeof e!="string")throw new TypeError("inserted content must be a string");this._split(t);var r=this.byStart[t];return r?r.prependRight(e):this.outro=e+this.outro,this};l.prototype.remove=function(t,e){for(;t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;if(t===e)return this;if(t<0||e>this.original.length)throw new Error("Character is out of bounds");if(t>e)throw new Error("end must be greater than start");this._split(t),this._split(e);for(var r=this.byStart[t];r;)r.intro="",r.outro="",r.edit(""),r=e>r.end?this.byStart[r.end]:null;return this};l.prototype.lastChar=function(){if(this.outro.length)return this.outro[this.outro.length-1];var t=this.lastChunk;do{if(t.outro.length)return t.outro[t.outro.length-1];if(t.content.length)return t.content[t.content.length-1];if(t.intro.length)return t.intro[t.intro.length-1]}while(t=t.previous);return this.intro.length?this.intro[this.intro.length-1]:""};l.prototype.lastLine=function(){var t=this.outro.lastIndexOf(k);if(t!==-1)return this.outro.substr(t+1);var e=this.outro,r=this.lastChunk;do{if(r.outro.length>0){if(t=r.outro.lastIndexOf(k),t!==-1)return r.outro.substr(t+1)+e;e=r.outro+e}if(r.content.length>0){if(t=r.content.lastIndexOf(k),t!==-1)return r.content.substr(t+1)+e;e=r.content+e}if(r.intro.length>0){if(t=r.intro.lastIndexOf(k),t!==-1)return r.intro.substr(t+1)+e;e=r.intro+e}}while(r=r.previous);return t=this.intro.lastIndexOf(k),t!==-1?this.intro.substr(t+1)+e:this.intro+e};l.prototype.slice=function(t,e){for(t===void 0&&(t=0),e===void 0&&(e=this.original.length);t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;for(var r="",n=this.firstChunk;n&&(n.start>t||n.end<=t);){if(n.start<e&&n.end>=e)return r;n=n.next}if(n&&n.edited&&n.start!==t)throw new Error("Cannot use replaced character "+t+" as slice start anchor.");for(var o=n;n;){n.intro&&(o!==n||n.start===t)&&(r+=n.intro);var u=n.start<e&&n.end>=e;if(u&&n.edited&&n.end!==e)throw new Error("Cannot use replaced character "+e+" as slice end anchor.");var h=o===n?t-n.start:0,s=u?n.content.length+e-n.end:n.content.length;if(r+=n.content.slice(h,s),n.outro&&(!u||n.end===e)&&(r+=n.outro),u)break;n=n.next}return r};l.prototype.snip=function(t,e){var r=this.clone();return r.remove(0,t),r.remove(e,r.original.length),r};l.prototype._split=function(t){if(!(this.byStart[t]||this.byEnd[t]))for(var e=this.lastSearchedChunk,r=t>e.end;e;){if(e.contains(t))return this._splitChunk(e,t);e=r?this.byStart[e.end]:this.byEnd[e.start]}};l.prototype._splitChunk=function(t,e){if(t.edited&&t.content.length){var r=_(this.original)(e);throw new Error("Cannot split a chunk that has already been edited ("+r.line+":"+r.column+' \u2013 "'+t.original+'")')}var n=t.split(e);return this.byEnd[e]=t,this.byStart[e]=n,this.byEnd[n.end]=n,t===this.lastChunk&&(this.lastChunk=n),this.lastSearchedChunk=t,!0};l.prototype.toString=function(){for(var t=this.intro,e=this.firstChunk;e;)t+=e.toString(),e=e.next;return t+this.outro};l.prototype.isEmpty=function(){var t=this.firstChunk;do if(t.intro.length&&t.intro.trim()||t.content.length&&t.content.trim()||t.outro.length&&t.outro.trim())return!1;while(t=t.next);return!0};l.prototype.length=function(){var t=this.firstChunk,e=0;do e+=t.intro.length+t.content.length+t.outro.length;while(t=t.next);return e};l.prototype.trimLines=function(){return this.trim("[\\r\\n]")};l.prototype.trim=function(t){return this.trimStart(t).trimEnd(t)};l.prototype.trimEndAborted=function(t){var e=new RegExp((t||"\\s")+"+$");if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;var r=this.lastChunk;do{var n=r.end,o=r.trimEnd(e);if(r.end!==n&&(this.lastChunk===r&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),o)return!0;r=r.previous}while(r);return!1};l.prototype.trimEnd=function(t){return this.trimEndAborted(t),this};l.prototype.trimStartAborted=function(t){var e=new RegExp("^"+(t||"\\s")+"+");if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;var r=this.firstChunk;do{var n=r.end,o=r.trimStart(e);if(r.end!==n&&(r===this.lastChunk&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),o)return!0;r=r.next}while(r);return!1};l.prototype.trimStart=function(t){return this.trimStartAborted(t),this};var $=Object.prototype.hasOwnProperty,d=function(t){t===void 0&&(t={}),this.intro=t.intro||"",this.separator=t.separator!==void 0?t.separator:`
 `,this.sources=[],this.uniqueSources=[],this.uniqueSourceIndexByFilename={}};d.prototype.addSource=function(t){if(t instanceof l)return this.addSource({content:t,filename:t.filename,separator:this.separator});if(!P(t)||!t.content)throw new Error("bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`");if(["filename","indentExclusionRanges","separator"].forEach(function(r){$.call(t,r)||(t[r]=t.content[r])}),t.separator===void 0&&(t.separator=this.separator),t.filename)if(!$.call(this.uniqueSourceIndexByFilename,t.filename))this.uniqueSourceIndexByFilename[t.filename]=this.uniqueSources.length,this.uniqueSources.push({filename:t.filename,content:t.content.original});else{var e=this.uniqueSources[this.uniqueSourceIndexByFilename[t.filename]];if(t.content.original!==e.content)throw new Error("Illegal source: same filename ("+t.filename+"), different contents")}return this.sources.push(t),this};d.prototype.append=function(t,e){return this.addSource({content:new l(t),separator:e&&e.separator||""}),this};d.prototype.clone=function(){var t=new d({intro:this.intro,separator:this.separator});return this.sources.forEach(function(e){t.addSource({filename:e.filename,content:e.content.clone(),separator:e.separator})}),t};d.prototype.generateDecodedMap=function(t){var e=this;t===void 0&&(t={});var r=[];this.sources.forEach(function(o){Object.keys(o.content.storedNames).forEach(function(u){~r.indexOf(u)||r.push(u)})});var n=new L(t.hires);return this.intro&&n.advance(this.intro),this.sources.forEach(function(o,u){u>0&&n.advance(e.separator);var h=o.filename?e.uniqueSourceIndexByFilename[o.filename]:-1,s=o.content,a=_(s.original);s.intro&&n.advance(s.intro),s.firstChunk.eachNext(function(f){var c=a(f.start);f.intro.length&&n.advance(f.intro),o.filename?f.edited?n.addEdit(h,f.content,c,f.storeName?r.indexOf(f.original):-1):n.addUneditedChunk(h,f,s.original,c,s.sourcemapLocations):n.advance(f.content),f.outro.length&&n.advance(f.outro)}),s.outro&&n.advance(s.outro)}),{file:t.file?t.file.split(/[/\\]/).pop():null,sources:this.uniqueSources.map(function(o){return t.file?U(t.file,o.filename):o.filename}),sourcesContent:this.uniqueSources.map(function(o){return t.includeContent?o.content:null}),names:r,mappings:n.raw}};d.prototype.generateMap=function(t){return new x(this.generateDecodedMap(t))};d.prototype.getIndentString=function(){var t={};return this.sources.forEach(function(e){var r=e.content.indentStr;r!==null&&(t[r]||(t[r]=0),t[r]+=1)}),Object.keys(t).sort(function(e,r){return t[e]-t[r]})[0]||"	"};d.prototype.indent=function(t){var e=this;if(arguments.length||(t=this.getIndentString()),t==="")return this;var r=!this.intro||this.intro.slice(-1)===`
 `;return this.sources.forEach(function(n,o){var u=n.separator!==void 0?n.separator:e.separator,h=r||o>0&&/\r?\n$/.test(u);n.content.indent(t,{exclude:n.indentExclusionRanges,indentStart:h}),r=n.content.lastChar()===`
-`}),this.intro&&(this.intro=t+this.intro.replace(/^[^\n]/gm,function(n,o){return o>0?t+n:n})),this};d.prototype.prepend=function(t){return this.intro=t+this.intro,this};d.prototype.toString=function(){var t=this,e=this.sources.map(function(r,n){var o=r.separator!==void 0?r.separator:t.separator,u=(n>0?o:"")+r.content.toString();return u}).join("");return this.intro+e};d.prototype.isEmpty=function(){return!(this.intro.length&&this.intro.trim()||this.sources.some(function(t){return!t.content.isEmpty()}))};d.prototype.length=function(){return this.sources.reduce(function(t,e){return t+e.content.length()},this.intro.length)};d.prototype.trimLines=function(){return this.trim("[\\r\\n]")};d.prototype.trim=function(t){return this.trimStart(t).trimEnd(t)};d.prototype.trimStart=function(t){var e=new RegExp("^"+(t||"\\s")+"+");if(this.intro=this.intro.replace(e,""),!this.intro){var r,n=0;do if(r=this.sources[n++],!r)break;while(!r.content.trimStartAborted(t))}return this};d.prototype.trimEnd=function(t){var e=new RegExp((t||"\\s")+"+$"),r,n=this.sources.length-1;do if(r=this.sources[n--],!r){this.intro=this.intro.replace(e,"");break}while(!r.content.trimEndAborted(t));return this};l.Bundle=d;l.SourceMap=x;l.default=l;F.exports=l});var z=N((q,T)=>{var K=require("fs"),Q=D(),W=i=>typeof i=="function"?i:()=>i,X=(i,t)=>t.length-i.length,Y=i=>{let t=i.values?Object.assign({},i.values):Object.assign({},i);return delete t.include,Object.keys(t).reduce((e,r)=>{let n=Object.assign({},e);return n[r]=W(t[r]),n},{})},Z=i=>{let t=/.*/;return i.include&&(Object.prototype.toString.call(i.include)!=="[object RegExp]"?console.warn(`Options.include must be a RegExp object, but gets an '${typeof i.include}' type.`):t=i.include),t},V=(i,t,e,r)=>{let n=new Q(i);for(;match=e.exec(i);){let o=match.index,u=o+match[0].length,h=String(r[match[1]](t));n.overwrite(o,u,h)}return n.toString()};q.replace=(i={})=>{let t=Z(i),e=Y(i),r=Object.keys(e).length===0,n=Object.keys(e).sort(X).map(escape),o=new RegExp(`\\b(${n.join("|")})\\b`,"g");return{name:"replace",setup(u){u.onLoad({filter:t},async h=>{let s=await K.promises.readFile(h.path,"utf8");return{contents:r?s:V(s,h.path,o,e)}})}}};T.exports=q});export default z();
+`}),this.intro&&(this.intro=t+this.intro.replace(/^[^\n]/gm,function(n,o){return o>0?t+n:n})),this};d.prototype.prepend=function(t){return this.intro=t+this.intro,this};d.prototype.toString=function(){var t=this,e=this.sources.map(function(r,n){var o=r.separator!==void 0?r.separator:t.separator,u=(n>0?o:"")+r.content.toString();return u}).join("");return this.intro+e};d.prototype.isEmpty=function(){return!(this.intro.length&&this.intro.trim()||this.sources.some(function(t){return!t.content.isEmpty()}))};d.prototype.length=function(){return this.sources.reduce(function(t,e){return t+e.content.length()},this.intro.length)};d.prototype.trimLines=function(){return this.trim("[\\r\\n]")};d.prototype.trim=function(t){return this.trimStart(t).trimEnd(t)};d.prototype.trimStart=function(t){var e=new RegExp("^"+(t||"\\s")+"+");if(this.intro=this.intro.replace(e,""),!this.intro){var r,n=0;do if(r=this.sources[n++],!r)break;while(!r.content.trimStartAborted(t))}return this};d.prototype.trimEnd=function(t){var e=new RegExp((t||"\\s")+"+$"),r,n=this.sources.length-1;do if(r=this.sources[n--],!r){this.intro=this.intro.replace(e,"");break}while(!r.content.trimEndAborted(t));return this};l.Bundle=d;l.SourceMap=x;l.default=l;F.exports=l});var z=N((q,T)=>{var K=require("fs"),Q=D(),W=i=>typeof i=="function"?i:()=>i,X=(i,t)=>t.length-i.length,Y=i=>{let t=i.values?Object.assign({},i.values):Object.assign({},i);return delete t.include,Object.keys(t).reduce((e,r)=>{let n=Object.assign({},e);return n[r]=W(t[r]),n},{})},Z=i=>{let t=/.*/;return i.include&&(Object.prototype.toString.call(i.include)!=="[object RegExp]"?console.warn(`Options.include must be a RegExp object, but gets an '${typeof i.include}' type.`):t=i.include),t},V=(i,t,e,r)=>{let n=new Q(i);for(;match=e.exec(i);){let o=match.index,u=o+match[0].length,h=String(r[match[1]](t));n.overwrite(o,u,h)}return n.toString()};q.replace=(i={})=>{let t=Z(i),e=Y(i),r=Object.keys(e).length===0,n=Object.keys(e).sort(X).map(escape),o=new RegExp(`\\b(${n.join("|")})\\b`,"g");return{name:"replace",setup(u){u.onLoad({filter:t},async h=>{let s=await K.promises.readFile(h.path,"utf8");return{loader:h.path.endsWith('ts')?'ts':'js',contents:r?s:V(s,h.path,o,e)}})}}};T.exports=q});export default z();
